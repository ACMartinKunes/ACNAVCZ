<html xmlns:xlink="http://www.w3.org/1999/xlink"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="save" content="history"><title>Spr&#225;va upozorn&#283;n&#237;</title>
<link rel="stylesheet" type="text/css" href="../local/Classic.css"><script language="JScript" src="../Feedback.js"></script><style type="text/css"> h1 { font: 2.57em "Segoe UI","Lucida Grande",Verdana,Arial,Helvetica,sans-serif;  } </style></head>
<body><h1>Spr&#225;va upozorn&#283;n&#237;</h1>
<p>Modul Správa upozornění umožňuje systémové upozorňování na stavy dat a procesů evidovaných v systému Microsoft Dynamics NAV. Upozorňování pracuje jak interně v prostředí systému, tak i externě formou e-mailu.
Z hlediska informačního systému Microsoft Dynamics NAV je tento modul vhodným doplněním modulů 
WorkFlow – řízení stavů, WorkFlow – sledování polí či Evidence doručené pošty. Dohromady tvoří tyto moduly sadu pro řízení a kontrolu procesů a událostí v organizaci.
Základem použití modulu je definování sledovaných stavů a událostí v systému, na které je třeba upozornit uživatele nebo na ně určitým způsobem reagovat. Kromě sledování aktuální události lze sledovat i vývoj události v čase. 
Modul je vyvinut jako off-line pracující nástroj, který nereaguje na okamžitou změnu v datech, ale poskytuje a zasílá informace o stavu dat v naplánovaných intervalech.
Modul Správa upozornění slouží např. k hlídání termínů na dokladech (datum dodání, splatnosti). Je možno informovat mailem zaměstnance o aktuálnosti termínu (kontroly, plnění, splnění, …). Tento modul je postaven samostatně a nezasahuje do ostatních modulů.
<strong>Princip funkce modulu</strong>
Modul Správa upozornění vytváří, aktualizuje a uchovává k záznamům v určených tabulkách systému Microsoft Dynamics NAV další doprovodné informace o jejich vzniku či stavu zpracování, tzv. Položky událostí. Další využití těchto položek pak závisí na konkrétním řešení, ve které má být Správa upozornění použita, v modulu samotném není nijak řešeno.
Pro každou tabulku v systému, která má být sledována funkcionalitou Správa upozornění, je nastavena tzv. Karta šablony události. Na této kartě jsou specifikovány další omezující podmínky, tzn. Modul Správa upozornění nemusí pracovat se všemi záznamy z dané tabulky, ale pouze s vybranou podmnožinou.
Ke každé šabloně jsou dále definovány Fáze událostí, tj. stavy, ve kterých se může konkrétní Položka události nacházet. U fází jsou uvedena i pravidla jejich použití odkazující se např. na vznik záznamu nebo určité datumové pole.
Vlastní hromadné vytvoření a aktualizace Položek upozornění je řešeno spuštěním reportu (ručně či plánovačem). Je možná i ruční změna přímo v Položkách událostí.</p>
<h2 id="instalace">Instalace</h2>
<p><strong>Objekty modulu</strong>
Objekty modulu Správa upozornění jsou označeny verzí
 <strong>EN7.00, EN7.20</strong>
Seznam konkrétních objektů modulu je uveden v dokumentaci k aktuálnímu buildu add-on modulů.
<strong>Další součásti instalace</strong>
Pro automatické upozorňování formou zaslaných e-mailů je potřeba aplikační server a modul Rozšíření plánovače úloh (Job Queue).</p>
<h2 id="nastavení">Nastavení</h2>
<h4 id="karta-šablony-události">Karta šablony události</h4>
<p>V Oblasti/proPRODUKTIVITU/Správa upozornění zvolte Šablony událostí a tlačítko <strong>Nový</strong>. Otevře se <strong>Karta šablony událostí</strong>.  Karta šablony události se používá pro zadání sledované události. 
Pole <strong>Kód</strong> slouží k rozlišení jednotlivých sledovaných událostí a pole <strong>Název</strong> k pojmenování sledované události. V poli <strong>Číslo tabulky</strong> vybereme tabulku, nad kterou chceme provádět sledování a dále zvolíme <strong>Číslo pole</strong> z dané tabulky – dle tohoto pole se vyhodnocuje daná fáze. Funkcionalita pracuje i s kalkulovanými poli. Jedná se o nepovinné pole.
<strong>Číslo pomocného pole</strong> se zobrazuje v položkách upozornění a slouží pouze pro bližší rozlišení události.
<strong>Číslo formuláře</strong> – zadává se stránka, která se má otevřít pro zobrazení události v Položkách upozornění.
<strong>Filtr tabulky</strong> – zadáním tohoto filtru nad tabulkou uvedenou v poli <strong>Číslo tabulky</strong> lze omezit záznamy, které bude systém kontrolovat.
Dalším filtrem jsou Datumové filtry, které najdeme pod tlačítkem <strong>Filtry data</strong>.
V polích <strong>Začátek fáze</strong> a <strong>Konec fáze</strong> se zadává vzorec data vztažený k systémovému datu (TODAY).
Pole <strong>Výstupní kontrola</strong> je nepovinné. Pokud je zadáno a podmínka výstupní kontroly je splněna, tak se neupozorňuje a položka upozornění se uzavře a přesune do položek uzavřených událostí.
Pokud pole <strong>Aut.uzavřít položky mimo filtr</strong> není zaškrtnuto, tak se položky upozornění dají uzavírat pouze ručně. 
Pole <strong>Filtr ID uživatele</strong> – hodnota tohoto pole se propisuje do položek upozornění a slouží k filtrování dle ID uživatele. 
Pole <strong>Vypnuto</strong> určuje stav sledované události – zda se sleduje či nikoliv.</p>
<h4 id="fáze-události">Fáze události</h4>
<p>Pro každou Kartu šablony události se nastavují fáze, do kterých se daná událost může dostat při splnění podmínek. Do nastavení fází pole se dostaneme z Karty šablony události pomocí tlačítka <strong>Fáze</strong>.
Pole <strong>Kód</strong> slouží k rozlišení jednotlivých fází sledování.
Pole <strong>Typ kontroly</strong> nabývá hodnot Položka, Datový interval nebo Číselný interval. Při výběru fází má nejvyšší prioritu výběru Položka, pak Datový interval a nakonec Číselný interval. Toto pole se vztahuje k poli <strong>Číslo pole</strong> z Karty šablony události.
Při výběru typu kontroly Položka se bere do úvahy pole <strong>Trvání</strong>. Určuje, jak dlouho bude fáze trvat od doby vzniku položky upozornění.
Při výběru Datový interval se pracuje s poli <strong>Začátek fáze</strong> a <strong>Konec fáze</strong>. Zadává se vzorec data vztažený k systémovému datu (TODAY).
Hodnota Číselný interval pracuje s poli <strong>Počáteční číslo</strong> a <strong>Koncové číslo</strong>.
Pole <strong>Barva</strong> slouží k barevnému označení řádku v položkách upozornění.
Pole <strong>Priorita</strong> je pouze evidenční a propisuje do položek upozornění.
Pole <strong>Filtr ID uživatele</strong> – hodnota tohoto pole se doplňuje do položek upozornění a slouží k filtrování položek dle ID uživatele.
Každé fázi lze přiřadit e-mailovou adresu určující komu danou událost odeslat, koho upozornit. </p>
<h4 id="e-maily--zadání-adresáta">E-maily – zadání adresáta</h4>
<p>E-maily se nastavují na stránce Fáze polí přes tlačítko <strong>E-maily</strong>. Jsou 3 způsoby, jak zadat adresáta e-mailu. (Tyto způsoby se dají kombinovat, tj. e-mail může odejít na všechny 3 definice pro jednu položku.)</p>
<ol>
<li>Ručně definovaný e-mail
Vyplním pole <strong>e-mail</strong>. Použiji, pokud chci poslat upozornění vždy na tento e-mail.</li>
<li>Dynamický e-mail z pole v záznamu, který je zdrojem upozornění
Vyplním pole <strong>Číslo pole e-mailu</strong>. Jde o textové pole z tabulky definované šablonou události. Použiji, pokud chci poslat upozornění na e-mail, který je přímo uložen v záznamu ve zdrojové tabulce šablony upozornění, který je zdrojem upozornění. (např. upozornění nad kartou zaměstnance, která obsahuje i jeho e-mail)</li>
<li>Dynamický e-mail z pole relační tabulky, která má vazbu s tabulkou šablony upozornění přes jedno pole dle záznamu, který je zdrojem upozornění. 
Vyplním pole <strong>Číslo relační tabulky</strong> – tabulka, kde bude pole pro e-mail, pole <strong>Číslo relačního pole e-mailu</strong> – pole s e-mailem v relační tabulce, pole <strong>Číslo pole relace z</strong> – pole z tabulky šablony události, které definuje vazbu do relační tabulky, pole <strong>Číslo pole relace do</strong> – pole z relační tabulky, na které je definována vazba. Použiji, pokud chci poslat upozornění na e-mail, který je uložen v relační tabulce ke zdrojové tabulce šablony upozornění s vazbou přes jedno pole (např. upozornění nad prodejním dokladem, kdy chci e-mail poslat na prodejce dokladu – e-mail je uložen v poli E-mail v tabulce Prodejce/nákupčí, která má z prodejní hlavičky vazbu přes jedno pole Kód prodejce – Kód. 
#### E-maily – obsah
Jsou 2 způsoby, jak definovat obsah e-mailu (předmět a tělo).</li>
<li>S pevně definovanou naprogramovanou strukturou 
V tomto případě <strong>Typ e-mailu</strong> je <strong>Standard</strong>.<br><strong>Předmět:</strong> kód šablony události + popis fáze
<strong>Tělo:</strong> pole primární klíč z položky události</li>
<li>S dynamickým obsahem 
V tomto případě je obsah definovaný pomocí polí a textů e-mailu. <strong>Typ e-mailu</strong> je <strong>Strukturovaný</strong>. Předmět i tělo se definuje v textech mailu s využitím polí e-mailu. Pole je možné definovat z tabulek – zdrojová tabulka šablony upozornění, 52068220 – Šablona události, 52068221 Fáze pole, 52068224 Položka události.</li>
</ol>
<h2 id="použití">Použití</h2>
<h4 id="vytvoření-a-aktualizace-položek-událostí">Vytvoření a aktualizace položek událostí</h4>
<p>Vytvoření a aktualizace položek upozornění se provádí reportem 52068221 Vytvoření a aktualizace položek událostí. 
Tento report je možné spouštět ručně, ale je upraven pro automatické spouštění pomocí modulu Rozšíření plánovače úloh (Job Queue).
Najdete jej v Oblasti/proPRODUKTIVITU/Správa upozornění – Vytvoření a aktualizace položek událostí.
Po spuštění reportu systém dle zadaného kódu šablony události projde sledovaná pole a dle zadaných kritérií (v textu výše) naplní tabulku Položky událostí.
V případě, že k fázím byla zadána e-mailová adresa, systém automaticky odešle e-mail s řádky upozornění na zadané e-mailové adresy (odesílání reportů je řízené reportem 52068222 Odesílání mailů z položek událostí a parametrizací plánovače úloh).</p>
<h4 id="zobrazení-položek-událostí">Zobrazení položek událostí</h4>
<p>Položky událostí (upozornění) lze zobrazit buď přímo z Karty šablony události přes volbu CTRL +F7 <strong>Položky</strong> nebo v Oblasti/proPRODUKTIVITU/Správa upozornění – Položky událostí.
Položky událostí lze filtrovat dle polí v hlavičce. Zobrazují stav v jakém se sledovaná událost nachází. Pole <strong>Stav</strong> je pouze evidenční a má tyto hodnoty: Otevřeno a Řešeno. Nově vytvořené řádky jsou ve stavu Otevřeno. Do stavu Řešeno se dostanou v případě, že uživatel událost v řádku vyřešil, tzn. otevře odpovídající záznam specifikovaný na Kartě šablony události funkcí na tlačítku <strong>Otevřít formulář</strong>.
K vytvořeným řádkům upozornění je možno zadat poznámku přes funkci na tlačítku <strong>Poznámky</strong>.</p>
<h4 id="ruční-změna-a-aktualizace-fází-události">Ruční změna a aktualizace fází události</h4>
<p>V Položkách událostí je možné ručně měnit fázi události. To se provádí pomocí tlačítka <strong>Ruční nastavení fáze</strong>.
Pole <strong>Ručně změněno</strong> v položkách události zobrazuje, zda byla fáze změněna ručně.
Pomocí funkce <strong>Zrušení ručního nastavení</strong> se fáze opět nastaví na svůj původní stav.
Pomocí funkce <strong>Aktualizovat vybrané položky</strong> lze ručně provádět aktualizaci jednotlivých fází události.</p>
<h4 id="uzavírání-položek-událostí">Uzavírání položek událostí</h4>
<p>Na stránce Položky událostí lze ručně provádět uzavírání položek a jejich přesun do uzavřených položek událostí pomocí tlačítka <strong>Uzavřít vybrané položky</strong>.</p>
<h4 id="historie--uzavřené-položky-událostí">Historie – uzavřené položky událostí</h4>
<p>Uzavřené položky událostí lze nalézt v Oblasti/proPRODUKTIVITU/Správa upozornění/Uzavřené položky událostí.
Do tohoto přehledu se dostanou položky událostí, které jsou buď uzavřeny ručně nebo pomocí aktualizace položek událostí (automaticky).
Na stránce Uzavřené položky událostí se lze pomocí tlačítka <strong>Otevřít formulář</strong> dostat do dokladu přes číslo formuláře zadané v Kartě šablony události.
Pomocí tlačítka Poznámky lze zobrazit zadanou poznámku k příslušnému řádku upozornění.</p>
<h2 id="see-also">Viz také</h2>
<p><a href="ac-pp-productivity-pack.html">AC Productivity pack</a>  </p>

<hr>
<div>
<span id="fb"></span>
<span id="fbb">
<p><!-- <a href="http://go.microsoft.com/fwlink/?LinkID=724015" target="_blank">Provide feedback.</a>--></p>
<script type="text/javascript">FeedBackLink();</script>
</span><br>
</div>
          
            <p> © 2018 Microsoft. All rights reserved.</p>
          <p><p><br xmlns:maml="http://ddue.schemas.microsoft.com/authoring/2003/5">

</body></html>